
# Cloud Database Setup Guide

This project supports **Supabase** for real-time cloud synchronization.
Follow these steps to enable cloud features.

## 1. Create a Supabase Project
1. Go to [https://supabase.com/](https://supabase.com/) and sign up/login.
2. Click **"New Project"**.
3. Enter your project details (Name: `personal-website`, Database Password, Region).
4. Wait for the project to be created.

## 2. Get API Keys
1. In your Supabase project dashboard, go to **Settings** (Icon at the bottom of the left sidebar) -> **API**.
2. Find the **Project URL** and **anon public** key.
3. You will need to add these to your Vercel Environment Variables.

## 3. Create Database Tables
Go to the **SQL Editor** (Icon in the left sidebar) and run the following script:

```sql
-- Create Music Table
create table public.music (
  id bigint generated by default as identity primary key,
  title text not null,
  link text,
  cover text,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null
);

-- Enable Row Level Security (RLS) but allow public access for now (Simplest for Personal Website)
alter table public.music enable row level security;

-- Policy: Allow everyone to read
create policy "Enable read access for all users" on public.music
for select using (true);

-- Policy: Allow everyone to insert/update/delete (WARNING: Only for personal use if you hide the key, 
-- or you can restrict this to authenticated users later)
-- Since you use a custom "Key Login" on the frontend, we are trusting the client with the Anon Key for now.
create policy "Enable insert for all users" on public.music for insert with check (true);
create policy "Enable update for all users" on public.music for update using (true);
create policy "Enable delete for all users" on public.music for delete using (true);

-- Repeat for other tables if you want to sync them too (e.g., ideas, tech_notes)
-- Example:
-- create table public.ideas (...);
```

## 4. Connect to Vercel
1. Go to your project on Vercel.
2. Go to **Settings** -> **Environment Variables**.
3. Add the following variables:
   - `VITE_SUPABASE_URL`: (Your Project URL)
   - `VITE_SUPABASE_ANON_KEY`: (Your Anon Public Key)
4. Redeploy your project.

## 5. Done!
Your website will now automatically detect the keys and switch to Cloud Mode.
